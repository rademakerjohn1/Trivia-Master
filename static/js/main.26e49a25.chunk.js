(this["webpackJsonptrivia-master"]=this["webpackJsonptrivia-master"]||[]).push([[0],{32:function(e,t,n){e.exports=n(73)},37:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),i=n.n(c),o=(n(37),n(30)),l=n(1);n(38);var u=function(){return r.a.createElement("h1",{id:"header"},"Trivia Master")},s=n(13),m=n.n(s),f=n(17),d=n(29),E=n(3),b=(n(40),n(14)),v=n.n(b);n(58),n(59);var p=function(e){var t=e.className,n=e.onClick,a=e.text;return r.a.createElement("button",{className:t,onClick:n},a)};n(60);var h=function(e){var t=e.destination,n=e.message;return r.a.createElement("div",{id:"link-container"},r.a.createElement("a",{id:"page-link",href:t},n))};var w=function(e){var t=e.start,n=e.end,a=e.setEasy,c=e.setMedium,i=e.setHard;return!t&&!n&&r.a.createElement("div",{id:"menu"},r.a.createElement("div",{id:"difficulty-btn-container"},r.a.createElement("p",null,"Select a difficulty"),r.a.createElement(p,{className:"difficulty-btn",onClick:a,text:"Easy"}),r.a.createElement(p,{className:"difficulty-btn",onClick:c,text:"Medium"}),r.a.createElement(p,{className:"difficulty-btn",onClick:i,text:"Hard"})),r.a.createElement(h,{destination:"#/scores",message:"See scores"}))};n(61);var O=function(e){var t=e.question;return r.a.createElement("p",{id:"question"},t)};n(62);var g=function(e){var t=e.answer,n=e.onClick;return r.a.createElement("li",{className:"answer",onClick:n},t)};n(63);var j=function(e){var t=e.start,n=e.seconds;return t&&r.a.createElement("p",{id:"timer"},n)};n(64);var y=function(e){var t=e.start,n=e.end,a=e.correct,c=e.incorrect;return(t||n)&&r.a.createElement("div",{id:"score-container"},r.a.createElement("p",{id:"correct"},"Correct: ",r.a.createElement("span",{className:"score-text"},a)),r.a.createElement("p",{id:"incorrect"},"Incorrect: ",r.a.createElement("span",{className:"score-text"},c)))};n(65);var S=function(e){var t=e.end,n=e.onSubmit,a=e.onChange,c=e.error;return t&&r.a.createElement("form",{onSubmit:n},r.a.createElement("label",{htmlFor:"initials"},"Enter your initials"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"initials",onChange:a,maxLength:"3"}),r.a.createElement("button",{type:"submit"},"Submit"),c&&r.a.createElement("p",{id:"error"},c))};var k=function(){var e=Object(a.useState)(JSON.parse(window.localStorage.getItem("stats"))||[]),t=Object(E.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(window.localStorage.getItem("token")||""),o=Object(E.a)(i,2),l=o[0],u=o[1],s=Object(a.useState)(""),b=Object(E.a)(s,2),p=b[0],h=b[1],k=Object(a.useState)(""),N=Object(E.a)(k,2),x=N[0],C=N[1],q=Object(a.useState)([]),M=Object(E.a)(q,2),I=M[0],D=M[1],_=Object(a.useState)(),H=Object(E.a)(_,2),J=H[0],L=H[1],T=Object(a.useState)(0),B=Object(E.a)(T,2),P=B[0],W=B[1],z=Object(a.useState)(!1),A=Object(E.a)(z,2),F=A[0],U=A[1],$=Object(a.useState)(!1),G=Object(E.a)($,2),K=G[0],Q=G[1],R=Object(a.useState)(""),V=Object(E.a)(R,2),X=V[0],Y=V[1],Z=Object(a.useState)(0),ee=Object(E.a)(Z,2),te=ee[0],ne=ee[1];Object(a.useEffect)((function(){window.localStorage.setItem("stats",JSON.stringify(n))}),[n]),Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://opentdb.com/api.php?token=".concat(t,"&amount=10&category=9&difficulty=").concat(n,"&type=multiple"));case 2:4===(a=e.sent).data.response_code||3===a.data.response_code?Y("new token needed"):(a.data.results.forEach((function(e){e.question=ce(e.question),e.answers=re([].concat(Object(f.a)(e.incorrect_answers),[e.correct_answer]));for(var t=0;t<e.answers.length;t++)e.answers[t]=ce(e.answers[t])})),L(10),D(a.data.results),U(!0));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.localStorage.setItem("token",l),l||Y("new token needed"),""!==l&&""!==x&&function(t,n){e.apply(this,arguments)}(l,x)}),[l,x]),Object(a.useEffect)((function(){"new token needed"===X&&v.a.get("https://opentdb.com/api_token.php?command=request").then((function(e){return u(e.data.token)})).then(Y(""))}),[X]),Object(a.useLayoutEffect)((function(){if(I.length){var e=setTimeout((function(){L((function(e){return e-1}))}),1e3);return function(){return clearTimeout(e)}}})),Object(a.useEffect)((function(){I.length&&J<1&&(ne((function(e){return e+1})),D((function(e){return e.slice(1)})),L(10)),!P&&!te||I.length||(U(!1),Q(!0))}),[P,te,I,J]);var ae=function(){var e=new Date(Date.now()).toLocaleString().split(",")[1].trim().split(":");return"".concat(e[0],":").concat(e[1]," ").concat(e[2].slice(3))},re=function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e};function ce(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}return r.a.createElement("div",null,r.a.createElement(w,{start:F,end:K,setEasy:function(){return C("easy")},setMedium:function(){return C("medium")},setHard:function(){return C("hard")}}),r.a.createElement(j,{start:F,seconds:J}),I.length>0&&r.a.createElement("div",{id:"question-answer-container"},r.a.createElement(O,{question:I[0].question}),r.a.createElement("div",{id:"answer-container"},r.a.createElement("ol",{type:"A"},I[0].answers.map((function(e,t){return r.a.createElement(g,{key:t,answer:e,onClick:function(){return function(e){I[0].answers[e]===I[0].correct_answer?W((function(e){return e+1})):ne((function(e){return e+1})),D((function(e){return e.slice(1)})),L(10)}(t)}})}))))),r.a.createElement(y,{start:F,end:K,correct:P,incorrect:te}),r.a.createElement(S,{end:K,error:X,onChange:function(e){return function(e){h(e.target.value)}(e)},onSubmit:function(e){return function(e){if(e.preventDefault(),isNaN(p)&&p){var t={initials:p,difficulty:x,incorrect:te,correct:P,date:new Date(Date.now()).toLocaleString().split(",")[0],time:ae()};c((function(e){return[].concat(Object(f.a)(e),[t])})),window.location="#/scores"}else Y("Please enter at least one initial")}(e)}}))};n(66),n(67);var N=function(e){var t=e.stats,n=e.difficulty;return r.a.createElement("div",{className:"table-container"},r.a.createElement("table",null,r.a.createElement("caption",null,n),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"User"),r.a.createElement("th",null,"Score"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.initials),r.a.createElement("td",null,e.correct/(e.correct+e.incorrect)*100,"%"),r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.time))})))))};var x=function(){var e=Object(a.useState)(JSON.parse(window.localStorage.getItem("stats"))||[]),t=Object(E.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),o=Object(E.a)(i,2),l=o[0],u=o[1],s=Object(a.useState)([]),m=Object(E.a)(s,2),f=m[0],d=m[1],b=Object(a.useState)([]),v=Object(E.a)(b,2),w=v[0],O=v[1];return Object(a.useEffect)((function(){u(n.filter((function(e){return"easy"===e.difficulty}))),d(n.filter((function(e){return"medium"===e.difficulty}))),O(n.filter((function(e){return"hard"===e.difficulty})))}),[n]),n.length>0?r.a.createElement("div",{id:"stats-container"},l.length>0&&r.a.createElement(N,{difficulty:"Easy",stats:l}),f.length>0&&r.a.createElement(N,{difficulty:"Medium",stats:f}),w.length>0&&r.a.createElement(N,{difficulty:"Hard",stats:w}),r.a.createElement(p,{className:"clear-btn",onClick:function(){return c([]),void localStorage.removeItem("stats")},text:"Clear"}),r.a.createElement(h,{destination:"#/",message:"Back"})):r.a.createElement("div",{id:"stats-container"},r.a.createElement("p",null,"No stats available."),r.a.createElement(h,{destination:"#/",message:"Play a quiz now!"}))};var C=function(){return r.a.createElement(o.a,null,r.a.createElement(u,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:k}),r.a.createElement(l.a,{exact:!0,path:"/scores",component:x})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.26e49a25.chunk.js.map