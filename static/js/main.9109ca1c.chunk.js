(this["webpackJsonptrivia-master"]=this["webpackJsonptrivia-master"]||[]).push([[0],{32:function(e,t,n){e.exports=n(74)},37:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),i=n.n(c),o=(n(37),n(30)),l=n(1);n(38);var u=function(){return r.a.createElement("h1",{id:"header"},"Trivia Master")},s=n(13),m=n.n(s),f=n(17),d=n(29),E=n(3),b=(n(40),n(14)),v=n.n(b);n(58),n(59);var p=function(e){var t=e.className,n=e.onClick,a=e.text;return r.a.createElement("button",{className:t,onClick:n},a)};n(60);var h=function(e){var t=e.destination,n=e.message;return r.a.createElement("div",{id:"link-container"},r.a.createElement("a",{id:"page-link",href:t},n))};var w=function(e){var t=e.start,n=e.end,a=e.setEasy,c=e.setMedium,i=e.setHard;return!t&&!n&&r.a.createElement("div",{id:"menu"},r.a.createElement("div",{id:"difficulty-btn-container"},r.a.createElement("p",null,"Select a difficulty"),r.a.createElement(p,{className:"difficulty-btn",onClick:a,text:"Easy"}),r.a.createElement(p,{className:"difficulty-btn",onClick:c,text:"Medium"}),r.a.createElement(p,{className:"difficulty-btn",onClick:i,text:"Hard"})),r.a.createElement(h,{destination:"#/scores",message:"See scores"}))};n(61);var g=function(e){var t=e.question;return r.a.createElement("p",{id:"question"},t)};n(62);var O=function(e){var t=e.answer,n=e.onClick;return r.a.createElement("li",{className:"answer",onClick:n},t)};n(63);var j=function(e){var t=e.start,n=e.seconds;return t&&r.a.createElement("p",{id:"timer"},n)};n(64);var y=function(e){var t=e.start,n=e.end,a=e.correct,c=e.incorrect;return(t||n)&&r.a.createElement("div",{id:"score-container"},r.a.createElement("p",{id:"correct"},"Correct: ",r.a.createElement("span",{className:"score-text"},a)),r.a.createElement("p",{id:"incorrect"},"Incorrect: ",r.a.createElement("span",{className:"score-text"},c)))};n(65);var S=function(e){var t=e.message;return r.a.createElement("p",{id:"feedback"},t)};n(66);var k=function(e){var t=e.end,n=e.onSubmit,a=e.onChange,c=e.error;return t&&r.a.createElement("form",{onSubmit:n},r.a.createElement("label",{htmlFor:"initials"},"Enter your initials"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"initials",onChange:a,maxLength:"3"}),r.a.createElement("button",{type:"submit"},"Submit"),c&&r.a.createElement("p",{id:"error"},c))};var C=function(){var e=Object(a.useState)(""),t=Object(E.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(JSON.parse(window.localStorage.getItem("stats"))||[]),o=Object(E.a)(i,2),l=o[0],u=o[1],s=Object(a.useState)(window.localStorage.getItem("token")||""),b=Object(E.a)(s,2),p=b[0],h=b[1],C=Object(a.useState)(""),N=Object(E.a)(C,2),x=N[0],M=N[1],q=Object(a.useState)(""),_=Object(E.a)(q,2),I=_[0],T=_[1],D=Object(a.useState)([]),H=Object(E.a)(D,2),J=H[0],L=H[1],B=Object(a.useState)(),W=Object(E.a)(B,2),P=W[0],U=W[1],z=Object(a.useState)(0),A=Object(E.a)(z,2),F=A[0],Y=A[1],$=Object(a.useState)(!1),G=Object(E.a)($,2),K=G[0],Q=G[1],R=Object(a.useState)(!1),V=Object(E.a)(R,2),X=V[0],Z=V[1],ee=Object(a.useState)(""),te=Object(E.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(0),ce=Object(E.a)(re,2),ie=ce[0],oe=ce[1];Object(a.useEffect)((function(){window.localStorage.setItem("stats",JSON.stringify(l))}),[l]),Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://opentdb.com/api.php?token=".concat(t,"&amount=15&category=9&difficulty=").concat(n,"&type=multiple"));case 2:4===(a=e.sent).data.response_code||3===a.data.response_code?ae("new token needed"):(a.data.results.forEach((function(e){e.question=se(e.question),e.correct_answer=se(e.correct_answer),e.answers=ue([].concat(Object(f.a)(e.incorrect_answers),[e.correct_answer]));for(var t=0;t<e.answers.length;t++)e.answers[t]=se(e.answers[t])})),U(10),L(a.data.results),Q(!0));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.localStorage.setItem("token",p),p||ae("new token needed"),""!==p&&""!==I&&function(t,n){e.apply(this,arguments)}(p,I)}),[p,I]),Object(a.useEffect)((function(){"new token needed"===ne&&v.a.get("https://opentdb.com/api_token.php?command=request").then((function(e){return h(e.data.token)})).then(ae(""))}),[ne]),Object(a.useLayoutEffect)((function(){if(J.length){var e=setTimeout((function(){U((function(e){return e-1}))}),1e3);return function(){return clearTimeout(e)}}})),Object(a.useEffect)((function(){if(J.length&&P<1&&(oe((function(e){return e+1})),L((function(e){return e.slice(1)})),U(10)),(F||ie)&&!J.length){var e=Math.round(F/(F+ie)*100);c("You scored ".concat(e,"%. Thanks for playing!")),Q(!1),Z(!0)}}),[F,ie,J,P]);var le=function(){var e=new Date(Date.now()).toLocaleString().split(",")[1].trim().split(":");return"".concat(e[0],":").concat(e[1]," ").concat(e[2].slice(3))},ue=function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e};function se(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}return r.a.createElement("div",null,r.a.createElement(w,{start:K,end:X,setEasy:function(){return T("easy")},setMedium:function(){return T("medium")},setHard:function(){return T("hard")}}),r.a.createElement(j,{start:K,seconds:P}),n?r.a.createElement(S,{message:n}):J.length>0&&r.a.createElement("div",{id:"question-answer-container"},r.a.createElement(g,{question:J[0].question}),r.a.createElement("div",{id:"answer-container"},r.a.createElement("ol",{type:"A"},J[0].answers.map((function(e,t){return r.a.createElement(O,{key:t,answer:e,onClick:function(){return function(e){J[0].answers[e]===J[0].correct_answer?(c("Correct!"),Y((function(e){return e+1}))):(c("Wrong. The correct answer is: ".concat(J[0].correct_answer)),oe((function(e){return e+1}))),setTimeout((function(){c(""),L((function(e){return e.slice(1)})),U(10)}),1e3)}(t)}})}))))),r.a.createElement(y,{start:K,end:X,correct:F,incorrect:ie}),r.a.createElement(k,{end:X,error:ne,onChange:function(e){return function(e){M(e.target.value.toUpperCase())}(e)},onSubmit:function(e){return function(e){if(e.preventDefault(),isNaN(x)&&x){var t={initials:x,difficulty:I,incorrect:ie,correct:F,date:new Date(Date.now()).toLocaleString().split(",")[0],time:le()};u((function(e){return[].concat(Object(f.a)(e),[t])})),window.location="#/scores"}else ae("Please enter at least one initial")}(e)}}))};n(67),n(68);var N=function(e){var t=e.stats,n=e.difficulty;return r.a.createElement("div",{className:"table-container"},r.a.createElement("table",null,r.a.createElement("caption",null,n),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"User"),r.a.createElement("th",null,"Score"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.initials),r.a.createElement("td",null,Math.round(e.correct/(e.correct+e.incorrect)*100),"%"),r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.time))})))))};var x=function(){var e=Object(a.useState)(JSON.parse(window.localStorage.getItem("stats"))||[]),t=Object(E.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),o=Object(E.a)(i,2),l=o[0],u=o[1],s=Object(a.useState)([]),m=Object(E.a)(s,2),f=m[0],d=m[1],b=Object(a.useState)([]),v=Object(E.a)(b,2),w=v[0],g=v[1];return Object(a.useEffect)((function(){u(n.filter((function(e){return"easy"===e.difficulty}))),d(n.filter((function(e){return"medium"===e.difficulty}))),g(n.filter((function(e){return"hard"===e.difficulty})))}),[n]),n.length>0?r.a.createElement("div",{id:"stats-container"},r.a.createElement(h,{destination:"#/",message:"Back"}),l.length>0&&r.a.createElement(N,{difficulty:"Easy",stats:l}),f.length>0&&r.a.createElement(N,{difficulty:"Medium",stats:f}),w.length>0&&r.a.createElement(N,{difficulty:"Hard",stats:w}),r.a.createElement(p,{className:"clear-btn",onClick:function(){return c([]),void localStorage.removeItem("stats")},text:"Clear"})):r.a.createElement("div",{id:"stats-container"},r.a.createElement("p",null,"No stats available."),r.a.createElement(h,{destination:"#/",message:"Play a quiz now!"}))};var M=function(){return r.a.createElement(o.a,null,r.a.createElement(u,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:C}),r.a.createElement(l.a,{exact:!0,path:"/scores",component:x})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.9109ca1c.chunk.js.map