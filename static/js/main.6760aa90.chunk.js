(this["webpackJsonptrivia-master"]=this["webpackJsonptrivia-master"]||[]).push([[0],{32:function(e,t,n){e.exports=n(74)},37:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(29),i=n.n(r),o=(n(37),n(12)),l=n(2);n(38);var u=function(){return c.a.createElement("div",{id:"header-container"},c.a.createElement("h1",{id:"header"},"Trivia Master"))},s=n(14),m=n.n(s),f=n(18),d=n(30),E=n(1),b=(n(40),n(15)),v=n.n(b);n(58);var p=function(e){var t=e.question;return c.a.createElement("p",{id:"question"},t)};n(59);var g=function(e){var t=e.answer,n=e.onClick,a=e.message;return c.a.createElement("li",{className:"answer",onClick:a?null:n},t)};n(60);var h=function(e){var t=e.start,n=e.seconds;return t&&c.a.createElement("p",{id:"timer"},n)};n(61);var O=function(e){var t=e.start,n=e.end,a=e.correct,r=e.incorrect;return(t||n)&&c.a.createElement("div",{id:"score-container"},c.a.createElement("p",{id:"correct"},"Correct: ",c.a.createElement("span",{className:"score-text"},a)),c.a.createElement("p",{id:"incorrect"},"Incorrect: ",c.a.createElement("span",{className:"score-text"},r)))};n(62);var w=function(e){var t=e.message;return c.a.createElement("p",{id:"feedback"},t)};n(63),n(64);var j=function(e){var t=e.destination,n=e.message;return c.a.createElement("div",{id:"link-container"},c.a.createElement("a",{id:"page-link",href:t},n))};var y=function(e){var t=e.end,n=e.onSubmit,a=e.onChange,r=e.error;return t&&c.a.createElement("form",{onSubmit:n},c.a.createElement("label",{htmlFor:"initials"},"Enter your initials"),c.a.createElement("br",null),c.a.createElement("input",{type:"text",name:"initials",onChange:a,maxLength:"3"}),c.a.createElement("button",{type:"submit"},"Submit"),r&&c.a.createElement("p",{id:"error"},r),c.a.createElement(j,{destination:"#/",message:"Play Again"}))};var S=function(e){var t=Object(a.useState)(""),n=Object(E.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(JSON.parse(window.localStorage.getItem("stats"))||[]),l=Object(E.a)(o,2),u=l[0],s=l[1],b=Object(a.useState)(window.localStorage.getItem("token")||""),j=Object(E.a)(b,2),S=j[0],k=j[1],N=Object(a.useState)(""),C=Object(E.a)(N,2),x=C[0],q=C[1],M=Object(a.useState)(""),T=Object(E.a)(M,2),D=T[0],_=T[1],I=Object(a.useState)(""),z=Object(E.a)(I,2),J=z[0],L=z[1],B=Object(a.useState)([]),P=Object(E.a)(B,2),W=P[0],A=P[1],H=Object(a.useState)(),U=Object(E.a)(H,2),F=U[0],Q=U[1],Y=Object(a.useState)(0),$=Object(E.a)(Y,2),G=$[0],K=$[1],R=Object(a.useState)(!1),V=Object(E.a)(R,2),X=V[0],Z=V[1],ee=Object(a.useState)(!1),te=Object(E.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(""),re=Object(E.a)(ce,2),ie=re[0],oe=re[1],le=Object(a.useState)(0),ue=Object(E.a)(le,2),se=ue[0],me=ue[1];Object(a.useEffect)((function(){e.location.state?(_(e.location.state.category),L(e.location.state.difficulty)):window.location="#/"}),[e.location.state]),Object(a.useEffect)((function(){window.localStorage.setItem("stats",JSON.stringify(u))}),[u]),Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(m.a.mark((function e(t,n,a){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://opentdb.com/api.php?token=".concat(t,"&amount=15&category=").concat(n,"&difficulty=").concat(a,"&type=multiple"));case 2:4===(c=e.sent).data.response_code||3===c.data.response_code?oe("new token needed"):(c.data.results.forEach((function(e){e.question=Ee(e.question),e.correct_answer=Ee(e.correct_answer),e.answers=de([].concat(Object(f.a)(e.incorrect_answers),[e.correct_answer]));for(var t=0;t<e.answers.length;t++)e.answers[t]=Ee(e.answers[t])})),Q(10),A(c.data.results),Z(!0));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.localStorage.setItem("token",S),S||oe("new token needed"),""!==S&&""!==J&&function(t,n,a){e.apply(this,arguments)}(S,D,J)}),[S,D,J]),Object(a.useEffect)((function(){"new token needed"===ie&&v.a.get("https://opentdb.com/api_token.php?command=request").then((function(e){return k(e.data.token)})).then(oe(""))}),[ie]),Object(a.useLayoutEffect)((function(){if(W.length){var e=setTimeout((function(){Q((function(e){return e-1}))}),1e3);return function(){return clearTimeout(e)}}})),Object(a.useEffect)((function(){if(W.length&&F<1&&(me((function(e){return e+1})),A((function(e){return e.slice(1)})),Q(10)),(G||se)&&!W.length){var e=Math.round(G/(G+se)*100);i("You scored ".concat(e,"%. Thanks for playing!")),Z(!1),ae(!0)}}),[G,se,W,F]);var fe=function(){var e=new Date(Date.now()).toLocaleString().split(",")[1].trim().split(":");return"".concat(e[0],":").concat(e[1]," ").concat(e[2].slice(3))},de=function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e};function Ee(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}return c.a.createElement("div",null,ne&&r&&c.a.createElement(w,{message:r}),W.length>0&&c.a.createElement("div",{id:"question-answer-container"},c.a.createElement(p,{question:W[0].question}),c.a.createElement(h,{start:X,seconds:r&&!ne?r:F}),c.a.createElement("div",{id:"answer-container"},c.a.createElement("ol",{type:"A"},W[0].answers.map((function(e,t){return c.a.createElement(g,{message:r,key:t,answer:e,onClick:function(){return function(e){W[0].answers[e]===W[0].correct_answer?(i("Correct!"),K((function(e){return e+1}))):(i("Wrong. The correct answer is: ".concat(W[0].correct_answer)),me((function(e){return e+1}))),setTimeout((function(){i(""),A((function(e){return e.slice(1)})),Q(10)}),1e3)}(t)}})}))))),c.a.createElement(O,{start:X,end:ne,correct:G,incorrect:se}),c.a.createElement(y,{end:ne,error:ie,onChange:function(e){return function(e){q(e.target.value.toUpperCase())}(e)},onSubmit:function(e){return function(e){if(e.preventDefault(),isNaN(x)&&x){var t={initials:x,difficulty:J,incorrect:se,correct:G,category:D,date:new Date(Date.now()).toLocaleString().split(",")[0],time:fe()};s((function(e){return[].concat(Object(f.a)(e),[t])})),window.location="#/scores"}else oe("Please enter at least one initial")}(e)}}))};n(65),n(66);var k=function(e){var t=e.stats,n=e.category;return c.a.createElement("div",{className:"table-container"},c.a.createElement("table",null,c.a.createElement("caption",null,n),c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"User"),c.a.createElement("th",null,"Difficulty"),c.a.createElement("th",null,"Score"),c.a.createElement("th",null,"Date"),c.a.createElement("th",null,"Time"))),c.a.createElement("tbody",null,t.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.initials),c.a.createElement("td",null,e.difficulty),c.a.createElement("td",null,Math.round(e.correct/(e.correct+e.incorrect)*100),"%"),c.a.createElement("td",null,e.date),c.a.createElement("td",null,e.time))})))))};n(67);var N=function(e){var t=e.className,n=e.onClick,a=e.text;return c.a.createElement("button",{className:t,onClick:n},a)};var C=function(){var e=Object(a.useState)(JSON.parse(window.localStorage.getItem("stats"))||[]),t=Object(E.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),o=Object(E.a)(i,2),l=o[0],u=o[1],s=Object(a.useState)([]),m=Object(E.a)(s,2),f=m[0],d=m[1],b=Object(a.useState)([]),v=Object(E.a)(b,2),p=v[0],g=v[1];return Object(a.useEffect)((function(){u(n.filter((function(e){return"12"===e.category}))),d(n.filter((function(e){return"11"===e.category}))),g(n.filter((function(e){return"14"===e.category})))}),[n]),n.length>0?c.a.createElement("div",{id:"stats-container"},c.a.createElement(j,{destination:"#/",message:"Back"}),l.length>0&&c.a.createElement(k,{category:"Music",stats:l}),f.length>0&&c.a.createElement(k,{category:"Movies",stats:f}),p.length>0&&c.a.createElement(k,{category:"Television",stats:p}),c.a.createElement(N,{className:"clear-btn",onClick:function(){return r([]),void localStorage.removeItem("stats")},text:"Clear"})):c.a.createElement("div",{id:"stats-container"},c.a.createElement("p",null,"No stats available."),c.a.createElement(j,{destination:"#/",message:"Play a quiz now!"}))};n(68);var x=function(){var e=Object(a.useState)(""),t=Object(E.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),l=Object(E.a)(i,2),u=l[0],s=l[1],m=function(e){r(n===e?"":e)},f=function(e){s(u===e?"":e)};return c.a.createElement("div",{id:"menu"},c.a.createElement("div",{className:"btn-container"},c.a.createElement("p",null,"Category:"),c.a.createElement(N,{className:"menu-btn category-btn "+("12"===n?"active":"inactive"),onClick:function(){return m("12")},text:"Music"}),c.a.createElement(N,{className:"menu-btn category-btn "+("11"===n?"active":"inactive"),onClick:function(){return m("11")},text:"Movies"}),c.a.createElement(N,{className:"menu-btn category-btn "+("14"===n?"active":"inactive"),onClick:function(){return m("14")},text:"Television"})),c.a.createElement("div",{className:"btn-container"},c.a.createElement("p",null,"Difficulty:"),c.a.createElement(N,{className:"menu-btn difficulty-btn "+("easy"===u?"active":"inactive"),onClick:function(){return f("easy")},text:"Easy"}),c.a.createElement(N,{className:"menu-btn difficulty-btn "+("medium"===u?"active":"inactive"),onClick:function(){return f("medium")},text:"Medium"}),c.a.createElement(N,{className:"menu-btn difficulty-btn "+("hard"===u?"active":"inactive"),onClick:function(){return f("hard")},text:"Hard"})),c.a.createElement(o.b,{onClick:function(e){return function(e){n&&u||e.preventDefault()}(e)},id:"start-quiz",className:n&&u?"abled":"disabled",to:{pathname:"/quiz",state:{category:n,difficulty:u}}},"Start Quiz!"),c.a.createElement(j,{destination:"#/scores",message:"See scores"}))};var q=function(){return c.a.createElement(o.a,null,c.a.createElement(u,null),c.a.createElement(l.c,null,c.a.createElement(l.a,{exact:!0,path:"/",component:x}),c.a.createElement(l.a,{exact:!0,path:"/quiz",component:S}),c.a.createElement(l.a,{exact:!0,path:"/scores",component:C})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.6760aa90.chunk.js.map